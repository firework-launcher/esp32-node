{% extends 'base.html' %}
{% block content %}
<div style="text-align: center">
    <h1>Device Settings</h1>
    <h2>WiFi Configuration</h2>
    <p>SSID <input type="text" id="ssid"></p>
    <p>Password <input type="password" id="passwd"></p>
    <br/>
    <button class="firework_button" onclick="send()">Save & Restart</button>
</div>
<script>
    function send_data(path, data) {
        var http = new XMLHttpRequest();
        http.open('POST', path, true);

        http.onreadystatechange = function() {//Call a function when the state changes.
            if(http.readyState == 4 && http.status == 200) {
                alert(http.responseText);
            }
        }
        http.send(data);
    }
    function send() {
        send_data("/configure_wifi_ssid", document.getElementById("ssid").value);
        send_data("/configure_wifi_passwd", document.getElementById("passwd").value);
        document.getElementById("ssid").value = "";
        document.getElementById("passwd").value = "";
    }
</script>
{% endblock %}